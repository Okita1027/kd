import{f as K,u as P,g as F,h as O,j as T,i as V,k as _,l as q,m as y,n as t,p as U,q as $,s as Y,R as z,v as G,x as N,y as X,z as W,A as Z,B as ee,C as te,D as ae,E as se,L as le,F as re,G as ie,H as ne,I as H,J as oe,K as w}from"./app-DXMAELBf.js";const ce=["/","/basic/","/dotnet/","/database/","/frame/","/web/","/basic/JDK/JDK17.html","/basic/JDK/JDK21.html","/basic/JDK/JDK8.html","/basic/JDK/","/basic/JDK/functional.html","/basic/JDK/grammar.html","/basic/JUC/","/basic/JVM/JVM.html","/basic/JVM/","/basic/Python/","/basic/Python/basic.html","/basic/juc/basic.html","/basic/juc/pattern.html","/basic/juc/principle.html","/basic/linux/","/basic/linux/centos.html","/basic/linux/common.html","/basic/linux/shell.html","/basic/linux/ubuntu.html","/basic/linux/wsl.html","/basic/php/","/basic/php/basic.html","/basic/software-engineering/","/basic/software-engineering/principle.html","/basic/software-engineering/uml.html","/dotnet/client/","/dotnet/client/protocol.html","/dotnet/csharp/","/dotnet/csharp/VersionFeature.html","/dotnet/csharp/special.html","/dotnet/dotnet%20core/","/dotnet/dotnet%20core/SignalR.html","/dotnet/dotnet%20core/api%20interface.html","/dotnet/dotnet%20core/basic.html","/dotnet/dotnet%20core/quick%20start.html","/dotnet/dotnet%20core/senior.html","/dotnet/dotnet%20core/web%20application.html","/dotnet/ef%20core/","/dotnet/ef%20core/change%20track.html","/dotnet/ef%20core/create%20model.html","/dotnet/ef%20core/dbcontext.html","/dotnet/ef%20core/log.html","/dotnet/ef%20core/manage%20db.html","/dotnet/ef%20core/query%20data.html","/dotnet/ef%20core/save%20data.html","/dotnet/host/","/dotnet/wpf/Component.html","/dotnet/wpf/Core.html","/dotnet/wpf/Prism.html","/dotnet/wpf/","/dotnet/wpf/ReactiveUI.html","/dotnet/wpf/ReactiveX.html","/dotnet/wpf/xaml.html","/database/ElasticSearch/","/database/MongoDB/MongoDB.html","/database/MongoDB/","/database/MySQL/MySQL.html","/database/MySQL/","/database/PostgreSQL/PostgreSQL.html","/database/PostgreSQL/","/database/Redis/senior.html","/database/SQL%20Server/","/database/SQL%20Server/senior.html","/database/redis/","/database/redis/basic.html","/database/redis/practical.html","/frame/CICD/GithubActions.html","/frame/docker/","/frame/docker/core.html","/frame/docker/install.html","/frame/docker/senior.html","/frame/mq/","/frame/mybatis/Mybatis-plus.html","/frame/mybatis/Mybatis.html","/frame/mybatis/","/frame/server/Apache.html","/frame/server/Nginx.html","/frame/server/","/frame/spring/","/frame/spring/SpringMVC.html","/frame/tool/","/web/build/","/web/build/bun.html","/web/build/pnpm.html","/web/build/vite.html","/web/javascript/","/web/javascript/basic.html","/web/javascript/senior.html","/web/react/AntDesign.html","/web/react/Query.html","/web/react/","/web/react/React.html","/web/react/Redux.html","/web/react/Router.html","/web/react/Zustand.html","/web/style/","/web/style/SCSS.html","/web/style/Tailwind%20CSS.html","/web/style/Uno%20CSS.html","/web/tool/Axios.html","/web/tool/","/web/typescript/","/web/typescript/TS(2024).html","/web/typescript/TS(2025.html","/web/vue/Pinia.html","/web/vue/","/web/vue/Vue.html","/basic/software-engineering/pattern/","/basic/software-engineering/pattern/behavioral.html","/basic/software-engineering/pattern/creation.html","/basic/software-engineering/pattern/structural.html","/frame/mq/RabbitMQ/","/frame/mq/RabbitMQ/core.html","/frame/mq/RabbitMQ/install.html","/frame/spring/Spring/AOP.html","/frame/spring/Spring/IOC_Annoation.html","/frame/spring/Spring/IOC_XML.html","/frame/spring/Spring/IOC_senior.html","/frame/spring/Spring/","/frame/spring/Spring/%E4%BA%8B%E5%8A%A1.html","/frame/spring/SpringBoot/","/frame/spring/SpringBoot/core.html","/frame/spring/SpringBoot/integration.html","/frame/spring/SpringBoot/yaml.html","/frame/spring/SpringCloud/","/frame/spring/SpringCloud/core.html","/frame/tool/maven/","/frame/tool/maven/basic.html","/404.html","/basic/juc/","/database/Redis/","/frame/CICD/"],me="SLIMSEARCH_QUERY_HISTORY",g=H(me,[]),ue=()=>{const{queryHistoryCount:e}=w;return{enabled:e>0,queryHistories:g,addQueryHistory:m=>{},removeQueryHistory:m=>{g.value=[...g.value.slice(0,m),...g.value.slice(m+1)]}}},k=e=>ce[e.id]+("anchor"in e?`#${e.anchor}`:""),he="SLIMSEARCH_RESULT_HISTORY",{resultHistoryCount:de}=w,f=H(he,[]),be=()=>({enabled:de>0,resultHistories:f,addResultHistory:c=>{},removeResultHistory:c=>{f.value=[...f.value.slice(0,c),...f.value.slice(c+1)]}}),pe=e=>{const{page:c,routeLocale:m}=ee(),S=te(),n=q(0),v=y(()=>n.value>0),d=ae([]);return se(()=>{const{search:R,terminate:C}=le(),u=ie(h=>{const{resultsFilter:s=i=>i,querySplitter:r,suggestionsFilter:L,...b}=S.value;h?(n.value+=1,R(h,m.value,b).then(i=>s(i,h,m.value,c.value)).then(i=>{n.value-=1,d.value=i}).catch(i=>{console.warn(i),n.value-=1,n.value||(d.value=[])})):d.value=[]},w.searchDelay-w.suggestDelay,{maxWait:5e3});re([e,m],([h])=>u(h.join(" "))),ne(()=>{C()})}),{isSearching:v,results:d}};var ge=K({name:"SearchResult",props:{queries:{type:Array,required:!0},isFocusing:Boolean},emits:["close","updateQuery"],setup(e,{emit:c}){const m=P(),S=F(),n=O(T),{addQueryHistory:v}=ue(),{enabled:d}=be(),R=d,C=V(e,"queries"),{results:u,isSearching:h}=pe(C);_({isQuery:!0,index:0});const s=q(0),r=q(0),L=y(()=>R),b=y(()=>u.value.length>0),i=y(()=>u.value[s.value]||null),A=()=>{s.value=s.value>0?s.value-1:u.value.length-1,r.value=i.value.contents.length-1},I=()=>{s.value=s.value<u.value.length-1?s.value+1:0,r.value=0},J=()=>{r.value<i.value.contents.length-1?r.value+=1:I()},j=()=>{r.value>0?r.value-=1:A()},Q=l=>l.map(a=>oe(a)?a:t(a[0],a[1])),B=l=>{if(l.type==="customField"){const a=W[l.index]||"$content",[D,p=""]=Z(a)?a[S.value].split("$content"):a.split("$content");return l.display.map(o=>t("div",Q([D,...o,p])))}return l.display.map(a=>t("div",Q(a)))},x=()=>{s.value=0,r.value=0,c("updateQuery",""),c("close")};return U("keydown",l=>{if(e.isFocusing&&b.value){if(l.key==="ArrowUp")j();else if(l.key==="ArrowDown")J();else if(l.key==="Enter"){const a=i.value.contents[r.value];v(e.queries.join(" ")),m.push(k(a)),x()}}}),$([s,r],()=>{document.querySelector(".slimsearch-record.active .slimsearch-record-matches.active")?.scrollIntoView(!1)},{flush:"post"}),()=>t("div",{id:"slimsearch-results",class:["slimsearch-result-wrapper",{empty:e.queries.length?!b.value:!L.value}]},e.queries.length?h.value?t(Y,{hint:n.value.searching}):b.value?t("div",{class:"slimsearch-records",role:"listbox","aria-labeledby":"slimsearch-label"},u.value.map(({title:l,contents:a},D)=>{const p=s.value===D;return t("div",{class:["slimsearch-record",{active:p}],role:"group","aria-selected":p},[t("div",{class:"slimsearch-record-title"},l||n.value.defaultTitle),t("ul",{class:"slimsearch-record-contents"},a.map((o,E)=>{const M=p&&r.value===E;return t("li",{class:["slimsearch-record-matches",{active:M}],role:"option","aria-selected":M},t(z,{to:k(o),onClick:()=>{v(e.queries.join(" ")),x()}},()=>[o.type==="text"?null:t(o.type==="title"?G:o.type==="heading"?N:X,{class:"slimsearch-record-type"}),t("div",{class:"slimsearch-record-content"},[o.type==="text"&&o.header?t("div",{class:"slimsearch-record-content-header"},o.header):null,t("div",B(o))])]))}))])})):n.value.emptyResult:n.value.emptyResult)}});export{ge as default};
